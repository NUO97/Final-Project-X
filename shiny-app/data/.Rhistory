<<<<<<< e44f57c0e9c2b756453ba1ada4f39dbf75edb54d
<<<<<<< 26373f1cef62625a4e81cf2db083fd12c21bf5db:shiny-app/data/.Rhistory
data<- datasets::iris
set.seed(10)
build<- function(width, column){
data$hover<- with(data, paste(Species, '<br>', "Sepal width:", Sepal.Width, '<br>', "Sepal length:",Sepal.Length))
map<- plot_ly(width, z = eval(parse(text = column))
x = width,
y = Sepal.Width,
text = hover
mode = "markers",
color = Sepal.Length
size = Sepal.Length
return(map)
)
}
build<- function(width, column){
data$hover<- with(data, paste(Species, '<br>', "Sepal width:", Sepal.Width, '<br>', "Sepal length:",Sepal.Length))
map<- plot_ly(width, z = eval(parse(text = column)
x = width,
y = Sepal.Width,
text = hover
mode = "markers",
color = Sepal.Length
size = Sepal.Length
return(map)
))
}
build<- function(width, column){
data$hover<- with(data, paste(Species, '<br>', "Sepal width:", Sepal.Width, '<br>', "Sepal length:",Sepal.Length)),
map<- plot_ly(width, z = eval(parse(text = column)
x = width,
y = Sepal.Width,
text = hover
mode = "markers",
color = Sepal.Length
size = Sepal.Length
return(map)
))
}
data<- datasets::iris
data$hover<- with(data, paste(Species, '<br>', "Sepal width:", 'Sepal.Width', '<br>', "Sepal length:",'Sepal.Length')),
data$hover<- with(data, paste(Species, '<br>', "Sepal width:", 'Sepal.Width', '<br>', "Sepal length:",'Sepal.Length'))
map<- plot_ly(width, z = eval(parse(text = column)
x = width,
y = Sepal.Width,
text = hover
mode = "markers",
color = Sepal.Length
size = Sepal.Length
return(map)
))
}
map<- plot_ly(data, z = eval(parse(text = column)
x = width,
y = Sepal.Width,
text = hover
mode = "markers",
color = Sepal.Length
size = Sepal.Length
return(map)
))
}
graph<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
set.seed(100)
plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
set.seed(100)
graphy<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
set.seed(100)
graphy<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
set.seed(100)
graph<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
library(shiny)
library(dplyr)
library(plotly)
data<- datasets::iris
set.seed(100)
graph<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
data$hover<- with(data, paste(Species, '<br>', "Sepal width:", 'Sepal.Width', '<br>', "Sepal length:",'Sepal.Length'))
data$hover<- with(data, paste(Species, '<br>', "Sepal width:", 'Sepal.Width', '<br>', "Sepal length:",'Sepal.Length'))
set.seed(100)
plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
d<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
d<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
d<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
View(d)
graph = plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
graph = plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length, size = Sepal.Length)
graph<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length,         size = Sepal.Length)
graph<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length,         size = Sepal.Length)
library(plotly)
graph<- plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length,         size = Sepal.Length)
View(graph)
graph<- plot_ly( x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length,         size = Sepal.Length)
plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length,         size = Sepal.Length)
plot_ly(data, x = Sepal.Width, y = Sepal.Length, text = hover, mode = "markers", color = Sepal.Length,size =  Sepal.Length)
plot_ly(data, x = Sepal.Width, y = Sepal.Length,
text = hover,
mode = "markers",
color = Sepal.Length,
size =  Sepal.Length)
map<- plot_ly(data, x = Sepal.Width, y = Sepal.Length,
map<- plot_ly(data, x = Sepal.Width, y = Sepal.Length,
text = hover,
mode = "markers",
color = Sepal.Length,
size =  Sepal.Length)
s
map<- plot_ly(data, x = Sepal.Width, y = Sepal.Length,
text = hover,
mode = "markers",
color = Sepal.Length,
size =  Sepal.Length)
layout(title = Sepal length and width)
map<- plot_ly(data, x = Sepal.Width, y = Sepal.Length,
text = hover,
mode = "markers",
color = Sepal.Length,
size =  Sepal.Length) %>%
layout(title = "Sepal length and width")
plot_ly(data, x = Sepal.Width, y = Sepal.Length,
text = hover,
=======
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE *100,
>>>>>>> map_update
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE *100,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE *10,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE *5,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE * 10,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE * 10,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE / 10,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE / 100,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
build_map(newdata, 500, 1000)
library(dplyr)
library(plotly)
setwd("/Users/Edward/Documents/Final-Project-X/shiny-app/data")
#data<- read.csv("Most+Recent+Cohorts+(All+Data+Elements).csv")
## url: "https://catalog.data.gov/dataset/college-scorecard/resource/4a18482a-8617-4bf9-8c37-0da0aa2ac3f8"
newdata<- data %>% filter() %>%
select(UNITID, INSTNM, CITY, STABBR, ZIP, AccredAgency, INSTURL, NPCURL, main, LATITUDE,
LONGITUDE, ADM_RATE, SATVR25, SATVR75, SATMT25, SATMT75, SATWR25, SATWR75,
SATVRMID,SATMTMID,SATWRMID, ACTCM25, ACTCM75, ACTEN25, ACTEN75, ACTMT25,
ACTMT75, ACTWR25, ACTWR75, ACTCMMID, ACTENMID, ACTMTMID, ACTWRMID, SAT_AVG,
COSTT4_A, TUITIONFEE_IN, TUITIONFEE_OUT, UGDS_WHITE, UGDS_HISP, UGDS_BLACK,
UGDS_ASIAN)
write.csv(newdata, "Summarized data.csv")
newdata<- read.csv("Summarized data.csv")
##how to put known 1st, 2nd, 3rd quantile into map? or let R knows that they are quantiles???
add = newdata
newdata$hover <- paste(newdata$INSTNM, "has", newdata$ADM_RATE * 100, "percent of admission rate",
'<br>', "Location:",newdata$CITY, newdata$ZIP)
cols <- RColorBrewer::brewer.pal(3, "Set1")
newdata$ADM_RATE <- as.numeric(as.character(newdata$ADM_RATE))
newdata$SAT_AVG<- as.numeric(as.character(newdata$SAT_AVG))
build_map<- function(add, lower_SAT, upper_SAT){
#state_fun<- add%>%
#          filter(STABBR == states)
final_data<- add %>%
filter( upper_SAT >= SAT_AVG) %>%
filter( lower_SAT <= SAT_AVG) %>%
select(INSTNM, LATITUDE, LONGITUDE, ADM_RATE, hover)
m <- list(
colorbar = list(title = "Admission Rate"),
size = 5, opacity = 0.5, symbol = 'circle')
g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showland = TRUE,
landcolor = toRGB("gray95"),
subunitcolor = toRGB("gray85"),
countrycolor = toRGB("gray85"),
countrywidth = 0.5,
subunitwidth = 0.5)
plot_ly(
final_data,
lat = LATITUDE,
lon = LONGITUDE,
text = hover,
colors = cols,
color = ADM_RATE * 100,
opacity = 0.5, na.rm = TRUE,
type = 'scattergeo',
locationmode = 'USA-states',
size = ADM_RATE,
mode = "markers",
marker = m) %>%
layout(title = "US College Cards", geo = g)
}
<<<<<<< e44f57c0e9c2b756453ba1ada4f39dbf75edb54d
build_map(newdata, 'WA')
=======
shiny::runApp()
# Add the libraries used in this section of code
library(shiny)
library(dplyr)
library(plotly)
library(rsconnect)
setwd("C:/Users/Derek/Documents/INFO498F_HW/Final-Project-X/data")
thisData = data("Summarized data.csv")
setwd("C:/Users/Derek/Documents/INFO498F_HW/Final-Project-X/data")
thisData = data("Summarized data.csv")
thisData = read.csv("Summarized data.csv")
View(thisData)
View(thisData)
shiny::runApp('C:/Users/Derek/Desktop')
shiny::runApp('C:/Users/Derek/Desktop')
shiny::runApp('C:/Users/Derek/Desktop/Final Project working dir')
shiny::runApp('C:/Users/Derek/Desktop/Final Project working dir')
shiny::runApp('C:/Users/Derek/Desktop/Final Project working dir')
shiny::runApp('C:/Users/Derek/Desktop/Final Project working dir')
thisData = read.csv("Summarized data.csv")
cutDown = thisData %>% select(X, UNITID, "SATVR25")
hey = which( colnames(thisData)=="SATVR25" )
cutter = thisData[14]
View(cutter)
View(cutter)
cutter = thisData[hey]
cutter = thisData[hey]
cutter = thisData[hey, there]
there = which( colnames(thisData)=="SATVR75" )
cutter = thisData[hey, there]
s = c(hey, there)
cutter = thisData[s]
shiny::runApp('C:/Users/Derek/Desktop/Final Project working dir')
>>>>>>> Commit my script?:data/.Rhistory
=======
build_map(newdata, 500, 1000)
>>>>>>> map_update
